{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section class="attendance-hero bg-primary text-white py-4">
    <div class="container py-3">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h1 class="display-5 fw-bold mb-2">Attendance Management</h1>
                <p class="lead mb-0">Mark and manage student attendance records</p>
            </div>
        </div>
    </div>
</section>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-10 col-lg-8 col-xl-6">
            <div class="card shadow-lg border-0 rounded-4 overflow-hidden">
                <div class="card-header bg-gradient-primary text-white text-center py-4">
                    <h2 class="mb-0 fw-bold"><i class="bi bi-calendar-check me-2"></i>Take Attendance</h2>
                </div>
                <div class="card-body p-4 p-md-5">
                    <form method="post">
                        {% csrf_token %}
                        
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <label for="classSelect" class="form-label fw-semibold">Select Class</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-mortarboard"></i></span>
                                    <select id="classSelect" name="class_name" class="form-select form-select-lg" required>
                                        <option value="">Select Class</option>
                                        <option value="1">Class 1</option>
                                        <option value="2">Class 2</option>
                                        <option value="3">Class 3</option>
                                        <option value="4">Class 4</option>
                                        <option value="5">Class 5</option>
                                        <option value="6">Class 6</option>
                                        <option value="7">Class 7</option>
                                        <option value="8">Class 8</option>
                                        <option value="9">Class 9</option>
                                        <option value="10">Class 10</option>
                                        <option value="11">Class 11</option>
                                        <option value="12">Class 12</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <label for="dateSelect" class="form-label fw-semibold">Select Date</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-calendar"></i></span>
                                    <input type="date" id="dateSelect" name="date" class="form-control form-control-lg" required 
                                           value="{{ today|date:'Y-m-d' }}">
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-grid gap-2 d-md-flex justify-content-md-center mt-4">
                            <button type="submit" class="btn btn-primary btn-lg px-4 py-2">
                                <i class="bi bi-check-circle me-2"></i>Proceed to Mark Attendance
                            </button>
                            <a href="{% url 'teacher_dashboard' %}" class="btn btn-outline-secondary btn-lg px-4 py-2">
                                <i class="bi bi-x-circle me-2"></i>Cancel
                            </a>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Quick Stats Card -->
            <div class="card shadow-sm border-0 rounded-3 mt-4">
                <div class="card-body text-center p-4">
                    <h5 class="text-primary mb-3"><i class="bi bi-info-circle me-2"></i>Attendance Guidelines</h5>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="d-flex flex-column align-items-center">
                                <div class="bg-primary bg-opacity-10 rounded-circle p-3 mb-2">
                                    <i class="bi bi-check-lg text-primary fs-4"></i>
                                </div>
                                <p class="mb-0 small">Mark attendance daily</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="d-flex flex-column align-items-center">
                                <div class="bg-primary bg-opacity-10 rounded-circle p-3 mb-2">
                                    <i class="bi bi-clock text-primary fs-4"></i>
                                </div>
                                <p class="mb-0 small">Update before 10 AM</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="d-flex flex-column align-items-center">
                                <div class="bg-primary bg-opacity-10 rounded-circle p-3 mb-2">
                                    <i class="bi bi-exclamation-triangle text-primary fs-4"></i>
                                </div>
                                <p class="mb-0 small">Review monthly reports</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

<style>
    .attendance-hero {
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('{% static "images/attendance-banner.jpg" %}') center/cover no-repeat;
    }
    
    .bg-gradient-primary {
        background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%) !important;
    }
    
    .form-control, .form-select {
        border-left: none;
        padding: 12px 16px;
        transition: all 0.3s ease;
    }
    
    .input-group-text {
        background-color: #f8f9fa;
        border-right: none;
    }
    
    .form-control:focus, .form-select:focus {
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.15);
        border-color: #86b7fe;
    }
    
    .form-control:focus + .input-group-text {
        border-color: #86b7fe;
        background-color: #f8f9fa;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .attendance-hero .display-5 {
            font-size: 1.8rem;
        }
        
        .card-body {
            padding: 1.5rem;
        }
        
        .d-md-flex {
            flex-direction: column;
        }
        
        .btn {
            width: 100%;
            margin-bottom: 10px;
        }
    }
</style>
{% endblock %}